# 13章　短いコードを書く

## 13.1　その機能の実装について悩まないで――きっと必要ないから

実装すればするほど、将来的に必要となる保守や文書化の負担時間が増加する

## 13.2　質問と要求の分割

**例：店舗検索システム**

要求：任意のユーザの緯度経度に対して、最も近い店舗を検索する

この要求に応えるためには、日付変更線や北極南極などの複雑な実装が必要になるが、

要求：テキサス州のユーザのために、テキサスで最も近くにある店舗を検索する

この要求に応えるのは、すべての店舗との距離を計算するだけでよくなる

要するに、要求されていることを、より楽に実装できるか考える

**例：キャッシュを追加する**

「要求削除」や「より単純な問題の解決」に利点がある

## 13.3　コードを小さく保つ

コードをできるだけ小さく軽量に維持する

- 汎用的な「ユーティリティ」コードを作って、重複コードを削除する
- 未使用のコードや無用の機能を削除する
- プロジェクトをサブプロジェクトに分割する
- コードの「重量」を意識する。軽量で機敏にしておく

*コードのサイズとコードにかかる労力は比例する。軽ければ軽いほどよい。使わないものを置いておく必要はない。

## 13.4　身近なライブラリに親しむ

ライブラリにゆっくりと落ち着いて目を通してみるのがよい。

**ライブラリの再利用はなぜいいことなのか**

平均的なソフトウェアエンジニアの1日に書く「出荷用」のコードは、10行

## まとめ

- 不必要な機能をプロダクトから削除する。
- 最も簡単に問題を解決できるような要求を考える
- 定期的にすべてのAPIを読んで、標準ライブラリに慣れ親しんでおく